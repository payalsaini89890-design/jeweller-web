<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Jewellery Atelier | Fine Heritage Craftsmanship</title>
    <meta
      name="description"
      content="Discover The Jewellery Atelier, a premier flagship showroom dedicated to exquisite Marwari craftsmanship. Specializing in bespoke gold and platinum ornaments since 1980."
    />
    <meta
      name="keywords"
      content="luxury jewellery, gold ornaments, platinum jewellery, heritage jewellery, Marwari craftsmanship, flagship jewellery store"
    />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://yourdomain.com/" />
    <meta
      property="og:title"
      content="The Jewellery Atelier | Fine Heritage Craftsmanship"
    />
    <meta
      property="og:description"
      content="A flagship destination for those who appreciate the quiet dignity of timeless jewellery and professional craftsmanship."
    />
    <meta
      property="og:image"
      content="https://yourdomain.com/assets/og-image.jpg"
    />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:title"
      content="The Jewellery Atelier | Fine Heritage Craftsmanship"
    />
    <meta
      property="twitter:description"
      content="A flagship destination for those who appreciate the quiet dignity of timeless jewellery and professional craftsmanship."
    />

    <!-- Structured Data: LocalBusiness -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "JewelryStore",
        "name": "The Jewellery Atelier",
        "image": "https://yourdomain.com/assets/logo.png",
        "@id": "https://yourdomain.com",
        "url": "https://yourdomain.com",
        "telephone": "+91 00000 00000",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "123 Royale Avenue, Diamond District",
          "addressLocality": "Flagship City",
          "postalCode": "000001",
          "addressCountry": "IN"
        },
        "geo": {
          "@type": "GeoCoordinates",
          "latitude": 26.2913,
          "longitude": 73.0483
        },
        "openingHoursSpecification": {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": [
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday"
          ],
          "opens": "11:00",
          "closes": "20:00"
        },
        "priceRange": "$$$$"
      }
    </script>

    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/mobile-menu.css" />
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="css/new_hero.css" />
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.34/dist/lenis.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- Configuration and Supabase -->
    <script src="js/env.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase-client.js"></script>
    <script src="js/ticker.js" defer></script>

    <style>
      /* --- BRANDING SYNC --- */
      :root {
        --gold: var(--gold-muted);
        --transition-luxury: all 1.2s cubic-bezier(0.22, 1, 0.36, 1);
      }

      body {
        background-color: var(--cream-light);
        color: var(--text-dark);
        font-family: var(--sans);
      }

      /* --- PROTOTYPE SECTIONS STYLING --- */

      /* Distinction Section */
      .services-section {
        padding: 150px 10%;
        background: #fff;
      }
      .distinction-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 60px;
        margin-top: 80px;
      }
      .service-card {
        text-align: center;
        opacity: 0;
        transform: translateY(30px);
        transition: var(--transition-luxury);
      }
      .service-card.active {
        opacity: 1;
        transform: translateY(0);
      }
      .service-icon {
        font-family: var(--serif);
        font-size: 1.5rem;
        margin-bottom: 25px;
        display: inline-block;
        color: var(--gold);
        border-bottom: 1px solid var(--gold);
        padding-bottom: 5px;
      }
      .service-card h3 {
        font-size: 1.8rem;
        margin-bottom: 15px;
        font-family: var(--serif);
        color: var(--deep-red);
      }
      .service-card p {
        color: var(--text-grey);
        line-height: 1.8;
        font-size: 0.95rem;
      }

      /* Material Standards (Split) */
      .material-prestige {
        display: flex;
        height: 90vh;
        background: #000;
        color: #fff;
        overflow: hidden;
      }
      .material-half {
        flex: 1;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        padding: 10%;
      }
      .material-half.gold-side {
        background:
          linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)),
          url("https://images.unsplash.com/photo-1610992015732-2449b0c26670?q=80&w=1200")
            center/cover;
      }
      .material-half.platinum-side {
        background:
          linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)),
          url("https://images.unsplash.com/photo-1627250493352-706d86ae42d9?q=80&w=1200")
            center/cover;
        border-left: 1px solid rgba(255, 255, 255, 0.1);
      }
      .material-info {
        position: relative;
        z-index: 2;
      }
      .material-label {
        font-size: 0.7rem;
        letter-spacing: 0.4em;
        text-transform: uppercase;
        margin-bottom: 20px;
        display: block;
        opacity: 0.8;
        color: var(--gold);
      }
      .material-info h2 {
        font-size: 3.5rem;
        margin-bottom: 20px;
        color: #fff;
        font-family: var(--serif);
      }
      .material-info p {
        max-width: 400px;
        color: rgba(255, 255, 255, 0.7);
        line-height: 1.8;
        font-family: var(--sans);
      }

      /* Concierge Immersive */
      .ai-immersive {
        background: #1a1a1a;
        color: var(--cream-light);
        padding: 180px 10%;
        text-align: center;
        position: relative;
      }
      .ai-title {
        font-family: var(--serif);
        font-size: 4rem;
        margin-bottom: 30px;
        line-height: 1.2;
        color: #fff;
      }
      .ai-interface {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid var(--gold);
        padding: 80px;
        border-radius: 4px;
        backdrop-filter: blur(10px);
        margin-top: 50px;
      }

      /* Legacy Quote */
      .legacy-letters {
        padding: 120px 10%;
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .quote-box {
        text-align: center;
        max-width: 900px;
      }
      .quote-text {
        font-family: var(--serif);
        font-size: 2.5rem;
        line-height: 1.4;
        color: var(--deep-red);
        font-style: italic;
        margin-bottom: 30px;
      }
      .quote-author {
        font-size: 0.8rem;
        letter-spacing: 0.4em;
        text-transform: uppercase;
        color: var(--gold);
        font-family: var(--sans);
      }

      /* --- HORIZONTAL SECTION --- */
      .horizontal-trigger {
        overflow: hidden;
      }
      .horizontal-container {
        width: 300%;
        height: 100vh;
        display: flex;
      }
      .horizontal-panel {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 5vw;
        padding: 0 8%;
        background: #fff;
      }
      .horizontal-panel .info {
        width: 30%;
      }
      .horizontal-panel h2 {
        font-size: 5rem;
        color: var(--deep-red);
        margin-bottom: 20px;
      }
      .horizontal-panel img {
        width: 60%;
        height: 75vh;
        object-fit: cover;
        box-shadow: 0 40px 80px rgba(0, 0, 0, 0.08);
      }

      @keyframes scroll-infinite {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-50%);
        }
      }
      .feedback-box {
        flex: 0 0 400px;
        margin: 0 25px;
        padding: 40px;
        background: var(--cream-light);
        border: 1px solid rgba(179, 139, 89, 0.2);
        height: 250px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .stars-display {
        color: var(--gold);
        font-size: 1rem;
        margin-bottom: 15px;
      }
      .feedback-box p {
        font-style: italic;
        line-height: 1.6;
        margin-bottom: 20px;
        color: #444;
        font-size: 0.95rem;
        font-family: var(--serif);
      }
      .feedback-box strong {
        letter-spacing: 2px;
        text-transform: uppercase;
        font-size: 0.75rem;
        color: var(--deep-red);
      }

      /* UI Overrides */
      #header.scrolled {
        background: rgba(253, 252, 249, 0.98);
      }
      .btn-outline-white {
        padding: 18px 45px;
        background: transparent;
        border: 1px solid #fff;
        color: #fff;
        font-size: 0.75rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        cursor: pointer;
        transition: var(--transition-slow);
      }
      .btn-outline-white:hover {
        background: #fff;
        color: #000;
      }

      /* Smooth Scroll Wrapper */
      #smooth-wrapper {
        width: 100%;
      }
      #smooth-content {
        width: 100%;
        position: relative;
      }

      /* --- FEEDBACK MARQUEE --- */
      .feedback-marquee-section {
        padding: 120px 0;
        background: #fff;
        overflow: hidden;
        border-top: 1px solid rgba(179, 139, 89, 0.1);
      }
      @keyframes scroll-infinite {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-50%);
        }
      }
      .marquee-container {
        display: flex;
        overflow: hidden;
        user-select: none;
        mask-image: linear-gradient(
          to right,
          transparent,
          black 10%,
          black 90%,
          transparent
        );
      }
      .marquee {
        display: flex;
        flex-shrink: 0;
        align-items: center;
        animation: scroll-infinite 30s linear infinite;
      }
      .feedback-box {
        flex: 0 0 400px;
        margin: 0 25px;
        padding: 40px;
        background: var(--cream-light);
        border: 1px solid rgba(179, 139, 89, 0.15);
        height: 250px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .stars-display {
        color: var(--gold);
        font-size: 1rem;
        margin-bottom: 15px;
      }
      .feedback-box p {
        font-style: italic;
        line-height: 1.6;
        margin-bottom: 20px;
        color: #444;
        font-size: 0.95rem;
        font-family: var(--serif);
      }
      .feedback-box strong {
        letter-spacing: 2px;
        text-transform: uppercase;
        font-size: 0.75rem;
        color: var(--deep-red);
      }
    </style>
  </head>

  <body style="background-color: transparent !important">
    <!-- Mobile Menu Overlay -->
    <div
      class="mobile-menu-overlay"
      id="mobileMenuOverlay"
      onclick="toggleMobileMenu()"
    ></div>
    <div class="mobile-menu" id="mobileMenu">
      <div class="mobile-menu-close" onclick="toggleMobileMenu()">âœ•</div>
      <nav class="mobile-menu-nav">
        <ul>
          <li><a href="index.html" class="active">Home</a></li>
          <li><a href="collections/gold.html">Gold Collection</a></li>
          <li><a href="collections/platinum.html">Platinum Collection</a></li>
          <li><a href="ai.html">AI Concierge</a></li>
          <li><a href="contact.html">Visit Store</a></li>
          <li><a href="heritage.html">The Heritage</a></li>
          <li><a href="wishlist.html">Wishlist</a></li>
        </ul>
      </nav>
    </div>
    <div class="hero-bg" id="heroBg"></div>
    <header id="header" class="hero-state">
      <a href="index.html" class="logo" id="brandTop">THE ATELIER</a>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="collections/gold.html">Gold Collection</a></li>
          <li><a href="collections/platinum.html">Platinum Collection</a></li>
          <li>
            <a href="ai.html">AI Concierge</a>
          </li>
          <li><a href="contact.html">Visit Store</a></li>
          <li><a href="heritage.html">The Heritage</a></li>
          <li>
            <a
              href="wishlist.html"
              title="Wishlist"
              style="position: relative; font-size: 1.2rem"
              >â™¥ <span id="wishlist-count" style="display: none">0</span></a
            >
          </li>
        </ul>
        <div class="mobile-menu-toggle" onclick="toggleMobileMenu()">MENU</div>
      </nav>
    </header>

    <div id="smooth-wrapper">
      <div id="smooth-content">
        <!-- PREMIUM HERO SECTION -->
        <section class="hero-container">
          <!-- Hero Image (Replace with your actual image path) -->
          <img src="bg.png" alt="Royal Heritage Jewellery" class="hero-image" />

          <!-- Vignette Overlay -->
          <div class="hero-vignette"></div>

          <!-- Text Gradient Overlay -->
          <div class="hero-gradient"></div>

          <!-- Hero Content -->
          <div class="hero-content">
            <!-- Heritage Line -->
            <div class="heritage-line">EST. 1980 Â· JODHPUR</div>

            <!-- Main Headline -->
            <h1 class="hero-headline">
              Crafting Regality<br />for the Modern Bride
            </h1>

            <!-- Subheading -->
            <p class="hero-subheading">
              A dialogue between royal heritage and contemporary couture, where
              every masterpiece is composed with reverence to tradition.
            </p>

            <!-- CTA Button -->
            <a href="collections/gold.html" class="hero-cta">
              EXPLORE MASTERPIECES
            </a>

            <!-- Couture Divider -->
            <div class="couture-divider"></div>

            <!-- Philosophy Line -->
            <p class="philosophy-line">
              An atelier where each piece is composed, not produced.
            </p>
          </div>
        </section>
        <!-- SECTION 1: THE DISTINCTION (WRAPPED IN PAGE-2) -->
        <section class="page-2 section">
          <!-- Inner content remains "The Distinction" but wrapped for transition -->
          <div class="section-title">
            <span class="hero-tagline">The Atelier Standard</span>
            <h2>The Distinction</h2>
          </div>

          <div class="distinction-grid">
            <div class="service-card">
              <span class="service-icon">I</span>
              <h3>Bespoke Designing</h3>
              <p>
                Co-create your legacy with our master karigars. We transform
                your visions into one-of-a-kind heirlooms that define your
                identity.
              </p>
            </div>
            <div class="service-card" style="transition-delay: 0.2s">
              <span class="service-icon">II</span>
              <h3>Heirloom Restoration</h3>
              <p>
                Breathe new life into vintage treasures. Our experts specialize
                in restoring the brilliance of ancestral gold with modern
                precision.
              </p>
            </div>
            <div class="service-card" style="transition-delay: 0.4s">
              <span class="service-icon">III</span>
              <h3>Private Consultations</h3>
              <p>
                Experience jewellery selection in the quiet dignity of our VIP
                suites, guided by our senior curators in an exclusive
                environment.
              </p>
            </div>
          </div>
        </section>

        <!-- SECTION 2: THE IMMERSIVE STORY (Horizontal Scroll) -->
        <!-- Updated with images from original index.html -->
        <div class="horizontal-trigger">
          <div class="horizontal-container">
            <div class="horizontal-panel">
              <div class="info">
                <span class="hero-tagline">Heritage Technique</span>
                <h2>Royal Polki</h2>
                <p>
                  The raw, uncut diamond tradition of the Mughals, preserved in
                  every hand-set masterpiece.
                </p>
              </div>
              <img
                src="https://images.unsplash.com/photo-1630019852942-f89202989a59?auto=format&fit=crop&q=80&w=1200"
              />
            </div>
            <div class="horizontal-panel" style="background: #f7f3ed">
              <div class="info">
                <span class="hero-tagline">Purity Obsession</span>
                <h2>24K Liquid Sun</h2>
                <p>
                  Pure, hand-beaten Marwar gold. A standard of brilliance that
                  has earned generations of trust.
                </p>
              </div>
              <img
                src="https://robbreport.com/wp-content/uploads/2016/12/fancy-intense-pink-diamond-ring-021.jpg"
              />
            </div>
            <div class="horizontal-panel">
              <div class="info">
                <span class="hero-tagline">Modern Rarity</span>
                <h2>Eternal Platinum</h2>
                <p>
                  Pt 950 Platinum. Crafted for those who seek understated
                  strength and everlasting brilliance.
                </p>
              </div>
              <img
                src="https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?auto=format&fit=crop&q=80&w=1200"
              />
            </div>
          </div>
        </div>

        <!-- SECTION 3: MATERIAL PRESTIGE (Split) -->
        <section class="material-prestige reveal">
          <div class="material-half gold-side">
            <div class="material-info">
              <span class="material-label">Ancient Craft</span>
              <h2>Temple Gold</h2>
              <p>
                Deeply rooted in tradition, our Temple pieces are hand-carved to
                celebrate the divine artistry of Marwar.
              </p>
              <a href="collections/gold.html"
                ><button class="btn-outline-white">Discover Gold</button></a
              >
            </div>
          </div>
          <div class="material-half platinum-side">
            <div class="material-info">
              <span class="material-label">Modern Suite</span>
              <h2>Quiet Luxury</h2>
              <p>
                A minimalist approach to high-value metals. Designed for the
                sovereign who leads with subtle brilliance.
              </p>
              <a href="collections/platinum.html"
                ><button class="btn-outline-white">View Platinum</button></a
              >
            </div>
          </div>
        </section>

        <!-- SECTION 4: AI CONCIERGE -->
        <section class="ai-immersive reveal">
          <span class="hero-tagline">Digital Concierge</span>
          <h2 class="ai-title">A Curator Who <br />Understands Your Soul</h2>
          <p class="ai-desc">
            Our AI takes your heritage and style into account to find the one
            masterpiece that was destined for you.
          </p>
          <div class="ai-interface">
            <a href="ai.html"
              ><button class="btn-red">Launch Concierge</button></a
            >
          </div>
        </section>

        <!-- SECTION 5: LEGACY LETTERS -->
        <section class="legacy-letters reveal">
          <div class="quote-box">
            <p class="quote-text">
              "Every piece we craft is a tribute to the timeless beauty of
              heritage, designed to be worn today and cherished forever."
            </p>
            <div class="quote-author">â€” The Atelier Promise</div>
          </div>
        </section>

        <!-- SECTION 6: PATRON CHRONICLES (Feedback) -->
        <section class="feedback-marquee-section reveal">
          <div class="section-title">
            <span class="hero-tagline">Our Patrons</span>
            <h2>Patron Chronicles</h2>
          </div>

          <div class="marquee-container">
            <div class="marquee" id="feedback-marquee">
              <!-- Published feedback will load here -->
              <div
                style="
                  padding: 40px;
                  text-align: center;
                  width: 100vw;
                  color: #888;
                "
              >
                Fetching our heritage stories...
              </div>
            </div>
          </div>

          <div class="section-footer">
            <a href="feedback.html" class="share-trigger">Share Your Story â†’</a>
          </div>
        </section>

        <!-- FOOTER -->
        <footer>
          <div class="footer-main">
            <div>
              <div class="copyright">
                Â© 2026 The Jewellery Atelier. All Rights Reserved.
              </div>
              <p style="max-width: 300px; font-size: 0.9rem; color: #777">
                A trusted name in Flagship City for exquisite gold and silver
                ornaments. From traditional heritage pieces to modern artistry,
                we offer quality, craftsmanship, and expert repair services.
              </p>
            </div>
            <div class="footer-contact">
              <h4>Locate Us</h4>
              <address class="footer-addr">
                <p>
                  123 Royale Avenue, Diamond District,<br />Flagship City,
                  000000
                </p>
              </address>
            </div>
            <div class="footer-contact">
              <h4>Contact Details</h4>
              <p class="footer-addr">P: +91 00000 00000</p>
              <p class="footer-addr">E: hello@thejewelleryatelier.com</p>

              <div class="trust-badges">
                <div class="trust-badge">
                  <svg viewBox="0 0 24 24">
                    <path
                      d="M12 2L1 12l11 10 11-10L12 2zm0 16.2L4.8 12 12 5.8 19.2 12 12 18.2z"
                    />
                  </svg>
                  <span>BIS Hallmarked</span>
                </div>
                <div class="trust-badge">
                  <svg viewBox="0 0 24 24">
                    <path
                      d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.5h7c-.47 4.34-3.1 8.2-7 9.33V11.5H5V6.3l7-3.11v8.31z"
                    />
                  </svg>
                  <span>Ethically Sourced</span>
                </div>
              </div>
            </div>
          </div>
          <div class="copyright">
            &copy; 2026 THE JEWELLERY ATELIER. ALL RIGHTS RESERVED.
          </div>
        </footer>
      </div>
    </div>

    <!-- SCRIPTS -->
    <script>
      // Init Lenis
      const lenis = new Lenis({ lerp: 0.08 });
      function raf(time) {
        lenis.raf(time);
        requestAnimationFrame(raf);
      }
      requestAnimationFrame(raf);

      /* --- NEW HERO LOGIC START --- */
      const heroBg = document.getElementById("heroBg");
      const navbar = document.getElementById("header"); // Mapped to existing header
      const brandTop = document.getElementById("brandTop");

      /* TEXT REVEAL HERO */
      window.addEventListener("load", () => {
        document.querySelectorAll(".reveal-hero").forEach((el, i) => {
          setTimeout(() => el.classList.add("show"), i * 120);
        });
      });

      /* PERFECT BLUR LOGIC & HEADER STATE */
      let currentBlur = 0;
      let targetBlur = 0;

      function animateBlur() {
        if (heroBg) {
          currentBlur += (targetBlur - currentBlur) * 0.08;
          heroBg.style.filter = `blur(${currentBlur.toFixed(2)}px)`;
          requestAnimationFrame(animateBlur);
        }
      }
      animateBlur();

      window.addEventListener("scroll", () => {
        const y = window.scrollY;
        const h = window.innerHeight;

        /* ðŸ”‘ No blur inside hero */
        if (y <= h) {
          targetBlur = 0;
        } else {
          targetBlur = Math.min(((y - h) / h) * 10, 10);
        }

        if (y > h * 0.6) {
          navbar.classList.add("scrolled-new");
          navbar.classList.remove("hero-state");
          navbar.classList.remove("scrolled"); // Remove old class if conflict
        } else {
          navbar.classList.add("hero-state");
          navbar.classList.remove("scrolled-new");
          navbar.classList.remove("scrolled");
        }
      });

      /* BRAND CLICK -> SCROLL TOP */
      if (brandTop) {
        brandTop.addEventListener("click", (e) => {
          e.preventDefault();
          window.scrollTo({ top: 0, behavior: "smooth" });
        });
      }
      /* --- NEW HERO LOGIC END --- */

      // GSAP Plugins
      gsap.registerPlugin(ScrollTrigger);

      // Header Scroll
      // Header Scroll - DISABLED (Replaced by New Hero Logic)
      /*
        const header = document.getElementById('header');
        window.addEventListener('scroll', () => {
            if(window.scrollY > 50) header.classList.add('scrolled');
            else header.classList.remove('scrolled');
        });
        */

      // Horizontal Scroll
      if (window.innerWidth > 900) {
        gsap.to(".horizontal-container", {
          xPercent: -66.6,
          ease: "none",
          scrollTrigger: {
            trigger: ".horizontal-trigger",
            pin: true,
            scrub: 1,
            end: "+=2500",
          },
        });
      }

      // Reveal Logic
      const reveals = document.querySelectorAll(".reveal, .service-card");
      window.addEventListener("scroll", () => {
        reveals.forEach((el) => {
          const elementTop = el.getBoundingClientRect().top;
          if (elementTop < window.innerHeight - 100) {
            el.classList.add("active");
          }
        });
      });

      // Hero Parallax
      window.addEventListener("scroll", () => {
        const scroll = window.pageYOffset;
        const heroImage = document.querySelector("#parallax-image");
        if (heroImage) {
          heroImage.style.transform = `scale(1.1) translateY(${scroll * 0.12}px)`;
        }
      });

      // Load Feedbacks
      async function loadPublishedFeedbacks() {
        const marquee = document.getElementById("feedback-marquee");
        try {
          const { data, error } = await window.supabaseText
            .from("feedback")
            .select("*")
            .eq("is_published", true)
            .order("created_at", { ascending: false });

          if (error) throw error;

          if (!data || data.length === 0) {
            marquee.innerHTML =
              '<div style="padding: 40px; text-align: center; width: 100vw; color: #888; font-style: italic;">Be the first to share your legacy.</div>';
            return;
          }

          const content = data
            .map(
              (f) => `
                    <div class="feedback-box">
                        <div class="stars-display">${"â˜…".repeat(f.rating)}</div>
                        <p>"${f.message}"</p>
                        <strong>â€” ${f.name}</strong>
                    </div>
                `,
            )
            .join("");

          // Duplicate content for infinite scroll effect if we have more than a few
          marquee.innerHTML = content + content;
        } catch (err) {
          console.error("Feedback error:", err);
          marquee.innerHTML =
            '<div style="padding: 40px; text-align: center; width: 100vw; color: #888;">Experience true luxury in every piece.</div>';
        }
      }
      loadPublishedFeedbacks();

      /* Mobile Menu Logic */
      function toggleMobileMenu() {
        const menu = document.getElementById("mobileMenu");
        const overlay = document.getElementById("mobileMenuOverlay");
        menu.classList.toggle("active");
        overlay.classList.toggle("active");
        if (menu.classList.contains("active")) {
          document.body.style.overflow = "hidden";
        } else {
          document.body.style.overflow = "";
        }
      }
    </script>
  </body>
</html>
